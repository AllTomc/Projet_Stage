<instance format="XCSP3" type="CSP">
  <variables>
    <array id="x" size="[7][7][2]"> 0..55 </array>
  </variables>
  <constraints>
    <allDifferent note="Each part of each domino in a different cell"> x[0][0][] x[0][1][] x[0][2][] x[0][3][] x[0][4][] x[0][5][] x[0][6][] x[1][1][] x[1][2][] x[1][3][] x[1][4][] x[1][5][] x[1][6][] x[2][2][] x[2][3][] x[2][4][] x[2][5][] x[2][6][] x[3][3][] x[3][4][] x[3][5][] x[3][6][] x[4][4][] x[4][5][] x[4][6][] x[5][5][] x[5][6][] x[6][6][] </allDifferent>
    <group>
      <intension> in(%0,set(%1,%2,%3,%4,%5,%6,%7,%8)) </intension>
      <args> x[0][0][0] 0 24 28 35 42 45 50 51 </args>
      <args> x[0][1][0] 0 24 28 35 42 45 50 51 </args>
      <args> x[0][2][0] 0 24 28 35 42 45 50 51 </args>
      <args> x[0][3][0] 0 24 28 35 42 45 50 51 </args>
      <args> x[0][4][0] 0 24 28 35 42 45 50 51 </args>
      <args> x[0][5][0] 0 24 28 35 42 45 50 51 </args>
      <args> x[0][6][0] 0 24 28 35 42 45 50 51 </args>
      <args> x[1][1][0] 15 18 23 25 31 37 47 48 </args>
      <args> x[1][2][0] 15 18 23 25 31 37 47 48 </args>
      <args> x[1][3][0] 15 18 23 25 31 37 47 48 </args>
      <args> x[1][4][0] 15 18 23 25 31 37 47 48 </args>
      <args> x[1][5][0] 15 18 23 25 31 37 47 48 </args>
      <args> x[1][6][0] 15 18 23 25 31 37 47 48 </args>
      <args> x[2][2][0] 2 3 10 11 19 29 30 52 </args>
      <args> x[2][3][0] 2 3 10 11 19 29 30 52 </args>
      <args> x[2][4][0] 2 3 10 11 19 29 30 52 </args>
      <args> x[2][5][0] 2 3 10 11 19 29 30 52 </args>
      <args> x[2][6][0] 2 3 10 11 19 29 30 52 </args>
      <args> x[3][3][0] 8 16 20 27 32 34 36 43 </args>
      <args> x[3][4][0] 8 16 20 27 32 34 36 43 </args>
      <args> x[3][5][0] 8 16 20 27 32 34 36 43 </args>
      <args> x[3][6][0] 8 16 20 27 32 34 36 43 </args>
      <args> x[4][4][0] 5 12 13 14 21 26 41 46 </args>
      <args> x[4][5][0] 5 12 13 14 21 26 41 46 </args>
      <args> x[4][6][0] 5 12 13 14 21 26 41 46 </args>
      <args> x[5][5][0] 1 4 7 33 38 53 54 55 </args>
      <args> x[5][6][0] 1 4 7 33 38 53 54 55 </args>
      <args> x[6][6][0] 6 9 17 22 39 40 44 49 </args>
    </group>
    <group>
      <intension> in(%0,set(%1,%2,%3,%4,%5,%6,%7,%8)) </intension>
      <args> x[0][0][1] 0 24 28 35 42 45 50 51 </args>
      <args> x[0][1][1] 15 18 23 25 31 37 47 48 </args>
      <args> x[0][2][1] 2 3 10 11 19 29 30 52 </args>
      <args> x[0][3][1] 8 16 20 27 32 34 36 43 </args>
      <args> x[0][4][1] 5 12 13 14 21 26 41 46 </args>
      <args> x[0][5][1] 1 4 7 33 38 53 54 55 </args>
      <args> x[0][6][1] 6 9 17 22 39 40 44 49 </args>
      <args> x[1][1][1] 15 18 23 25 31 37 47 48 </args>
      <args> x[1][2][1] 2 3 10 11 19 29 30 52 </args>
      <args> x[1][3][1] 8 16 20 27 32 34 36 43 </args>
      <args> x[1][4][1] 5 12 13 14 21 26 41 46 </args>
      <args> x[1][5][1] 1 4 7 33 38 53 54 55 </args>
      <args> x[1][6][1] 6 9 17 22 39 40 44 49 </args>
      <args> x[2][2][1] 2 3 10 11 19 29 30 52 </args>
      <args> x[2][3][1] 8 16 20 27 32 34 36 43 </args>
      <args> x[2][4][1] 5 12 13 14 21 26 41 46 </args>
      <args> x[2][5][1] 1 4 7 33 38 53 54 55 </args>
      <args> x[2][6][1] 6 9 17 22 39 40 44 49 </args>
      <args> x[3][3][1] 8 16 20 27 32 34 36 43 </args>
      <args> x[3][4][1] 5 12 13 14 21 26 41 46 </args>
      <args> x[3][5][1] 1 4 7 33 38 53 54 55 </args>
      <args> x[3][6][1] 6 9 17 22 39 40 44 49 </args>
      <args> x[4][4][1] 5 12 13 14 21 26 41 46 </args>
      <args> x[4][5][1] 1 4 7 33 38 53 54 55 </args>
      <args> x[4][6][1] 6 9 17 22 39 40 44 49 </args>
      <args> x[5][5][1] 1 4 7 33 38 53 54 55 </args>
      <args> x[5][6][1] 6 9 17 22 39 40 44 49 </args>
      <args> x[6][6][1] 6 9 17 22 39 40 44 49 </args>
    </group>
    <group note="adjacency constraints">
      <intension> or(or(eq(%0,add(%1,%2)),eq(%1,add(%0,%3))),or(and(eq(%0,add(%1,%4)),ne(mod(%0,%5),%6)),and(eq(%1,add(%0,%7)),ne(mod(%1,%8),%9)))) </intension>
      <args> x[0][0][0] x[0][0][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[0][1][0] x[0][1][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[0][2][0] x[0][2][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[0][3][0] x[0][3][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[0][4][0] x[0][4][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[0][5][0] x[0][5][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[0][6][0] x[0][6][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[1][1][0] x[1][1][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[1][2][0] x[1][2][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[1][3][0] x[1][3][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[1][4][0] x[1][4][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[1][5][0] x[1][5][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[1][6][0] x[1][6][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[2][2][0] x[2][2][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[2][3][0] x[2][3][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[2][4][0] x[2][4][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[2][5][0] x[2][5][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[2][6][0] x[2][6][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[3][3][0] x[3][3][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[3][4][0] x[3][4][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[3][5][0] x[3][5][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[3][6][0] x[3][6][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[4][4][0] x[4][4][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[4][5][0] x[4][5][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[4][6][0] x[4][6][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[5][5][0] x[5][5][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[5][6][0] x[5][6][1] 8 8 1 8 0 1 8 0 </args>
      <args> x[6][6][0] x[6][6][1] 8 8 1 8 0 1 8 0 </args>
    </group>
  </constraints>
</instance>
